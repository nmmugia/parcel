(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2801],{32058:(e,a,s)=>{Promise.resolve().then(s.bind(s,78546)),Promise.resolve().then(s.bind(s,85095)),Promise.resolve().then(s.bind(s,59044))},78546:(e,a,s)=>{"use strict";s.d(a,{PaymentHistory:()=>D});var t=s(95155),r=s(12115),n=s(48173),l=s.n(n),i=s(14085),d=s(35007),c=s(31641),u=s(39286),m=s(29602),o=s(66889),x=s(98867),h=s(40767),f=s(16233),j=s(92598),p=s(51124),g=s(10332),N=s(15785),v=s(196);function y(e){let{onFilterChange:a}=e,[s,n]=(0,r.useState)("all"),[l,d]=(0,r.useState)("dueDate"),[c,u]=(0,r.useState)("asc"),[m,o]=(0,r.useState)("none"),x=e=>{u(e),a({status:s,sortBy:l,sortOrder:e,groupBy:m})};return(0,t.jsxs)(p.AM,{children:[(0,t.jsx)(p.Wv,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Filter"})]})}),(0,t.jsx)(p.hl,{className:"w-80",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Status"}),(0,t.jsxs)(g.z,{defaultValue:s,onValueChange:e=>{n(e),a({status:e,sortBy:l,sortOrder:c,groupBy:m})},className:"flex flex-col space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"all",id:"all"}),(0,t.jsx)(N.J,{htmlFor:"all",children:"Semua"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"WAITING_FOR_PAYMENT",id:"waiting-payment"}),(0,t.jsx)(N.J,{htmlFor:"waiting-payment",children:"Menunggu Pembayaran"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"WAITING_FOR_APPROVAL",id:"waiting-approval"}),(0,t.jsx)(N.J,{htmlFor:"waiting-approval",children:"Menunggu Persetujuan"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"APPROVED",id:"approved"}),(0,t.jsx)(N.J,{htmlFor:"approved",children:"Disetujui"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"REJECTED",id:"rejected"}),(0,t.jsx)(N.J,{htmlFor:"rejected",children:"Ditolak"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Urutkan Berdasarkan"}),(0,t.jsxs)(g.z,{defaultValue:l,onValueChange:e=>{d(e),a({status:s,sortBy:e,sortOrder:c,groupBy:m})},className:"flex flex-col space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"dueDate",id:"dueDate"}),(0,t.jsx)(N.J,{htmlFor:"dueDate",children:"Tanggal Jatuh Tempo"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"paidDate",id:"paidDate"}),(0,t.jsx)(N.J,{htmlFor:"paidDate",children:"Tanggal Bayar"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"amount",id:"amount"}),(0,t.jsx)(N.J,{htmlFor:"amount",children:"Jumlah"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Urutan"}),(0,t.jsxs)(g.z,{defaultValue:c,onValueChange:e=>x(e),className:"flex flex-col space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"asc",id:"asc"}),(0,t.jsx)(N.J,{htmlFor:"asc",children:"Naik (A-Z, Terlama)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"desc",id:"desc"}),(0,t.jsx)(N.J,{htmlFor:"desc",children:"Turun (Z-A, Terbaru)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Kelompokkan Berdasarkan"}),(0,t.jsxs)(g.z,{defaultValue:m,onValueChange:e=>{o(e),a({status:s,sortBy:l,sortOrder:c,groupBy:e})},className:"flex flex-col space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"none",id:"none"}),(0,t.jsx)(N.J,{htmlFor:"none",children:"Tidak Ada"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"month",id:"month"}),(0,t.jsx)(N.J,{htmlFor:"month",children:"Bulan"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.C,{value:"status",id:"status-group"}),(0,t.jsx)(N.J,{htmlFor:"status-group",children:"Status"})]})]})]})]})})]})}var b=s(87949),w=s(40687);function D(e){let{payments:a}=e,[s,n]=(0,r.useState)("all"),[p,g]=(0,r.useState)({status:"all",sortBy:"dueDate",sortOrder:"asc",groupBy:"none"}),N=(0,r.useMemo)(()=>{let e=a;return"all"!==s&&(e=e.filter(e=>e.status===s)),e=[...e].sort((e,a)=>"dueDate"===p.sortBy?"asc"===p.sortOrder?new Date(e.dueDate).getTime()-new Date(a.dueDate).getTime():new Date(a.dueDate).getTime()-new Date(e.dueDate).getTime():"paidDate"===p.sortBy?e.paidDate?a.paidDate?"asc"===p.sortOrder?new Date(e.paidDate).getTime()-new Date(a.paidDate).getTime():new Date(a.paidDate).getTime()-new Date(e.paidDate).getTime():"asc"===p.sortOrder?-1:1:"asc"===p.sortOrder?1:-1:"amount"===p.sortBy?"asc"===p.sortOrder?e.amount-a.amount:a.amount-e.amount:0)},[a,s,p]),v=(0,r.useMemo)(()=>{if("none"===p.groupBy)return{"Semua Pembayaran":N};let e={};return N.forEach(a=>{let s="";if("month"===p.groupBy){let e=new Date(a.dueDate);s=(0,b.GP)(e,"MMMM yyyy",{locale:w.id})}else if("status"===p.groupBy)switch(a.status){case"WAITING_FOR_PAYMENT":s="Menunggu Pembayaran";break;case"WAITING_FOR_APPROVAL":s="Menunggu Persetujuan";break;case"APPROVED":s="Disetujui";break;case"REJECTED":s="Ditolak";break;default:s="Lainnya"}e[s]||(e[s]=[]),e[s].push(a)}),e},[N,p.groupBy]),D=e=>{switch(e){case"WAITING_FOR_PAYMENT":return(0,t.jsxs)(u.E,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(o.A,{className:"h-3 w-3"}),"Menunggu Pembayaran"]});case"WAITING_FOR_APPROVAL":return(0,t.jsxs)(u.E,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(o.A,{className:"h-3 w-3"}),"Menunggu Persetujuan"]});case"APPROVED":return(0,t.jsxs)(u.E,{variant:"success",className:"flex items-center gap-1",children:[(0,t.jsx)(x.A,{className:"h-3 w-3"}),"Disetujui"]});case"REJECTED":return(0,t.jsxs)(u.E,{variant:"destructive",className:"flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"h-3 w-3"}),"Ditolak"]});default:return(0,t.jsx)(u.E,{variant:"outline",children:e})}};return 0===a.length?(0,t.jsx)(d.Zp,{children:(0,t.jsxs)(d.Wu,{className:"flex flex-col items-center justify-center p-6",children:[(0,t.jsx)(f.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-center",children:"Belum ada pembayaran"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Pembayaran akan muncul setelah Anda membuat transaksi"})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsx)(y,{onFilterChange:g}),(0,t.jsx)(c.tU,{defaultValue:"all",value:s,onValueChange:n,className:"w-full md:w-auto",children:(0,t.jsxs)(c.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(c.Xi,{value:"all",children:"Semua"}),(0,t.jsx)(c.Xi,{value:"WAITING_FOR_PAYMENT",children:"Menunggu Pembayaran"}),(0,t.jsx)(c.Xi,{value:"WAITING_FOR_APPROVAL",children:"Menunggu Persetujuan"}),(0,t.jsx)(c.Xi,{value:"APPROVED",children:"Disetujui"})]})})]}),0===Object.keys(v).length?(0,t.jsx)(d.Zp,{children:(0,t.jsxs)(d.Wu,{className:"flex flex-col items-center justify-center p-6",children:[(0,t.jsx)(f.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-center",children:"Tidak ada pembayaran"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Tidak ada pembayaran dengan status yang dipilih"})]})}):(0,t.jsx)("div",{className:"space-y-8",children:Object.entries(v).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"space-y-4",children:["none"!==p.groupBy&&(0,t.jsx)("h3",{className:"text-lg font-semibold",children:a}),(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d.ZB,{className:"text-lg",children:e.transaction.package.name}),D(e.status)]}),(0,t.jsxs)(d.BT,{children:["Pelanggan: ",e.transaction.customerName]})]}),(0,t.jsx)(d.Wu,{className:"pb-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Jumlah:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,m.vv)(e.amount)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Jatuh Tempo:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,m.Yq)(e.dueDate)})]}),e.paidDate&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Tanggal Bayar:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,m.Yq)(e.paidDate)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),(0,t.jsx)("span",{className:"font-medium",children:"TRANSFER"===e.paymentMethod?"Transfer Bank":"Tunai"})]}),e.resellerBonus&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Bonus Reseller:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,m.vv)(e.resellerBonus)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Bukti Pembayaran:"}),(0,t.jsx)("span",{className:"font-medium",children:e.proofImageUrl?(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>window.open(e.proofImageUrl,"_blank"),children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Lihat"]}):"CASH"===e.paymentMethod?"Pembayaran Tunai":"Belum diunggah"})]})]})}),(0,t.jsx)("div",{className:"px-6 pb-6",children:(0,t.jsx)(l(),{href:"/reseller/transactions/".concat(e.transaction.id),children:(0,t.jsx)(i.$,{variant:"outline",className:"w-full",children:"Lihat Transaksi"})})})]},e.id))})]},a)})})]})}},39286:(e,a,s)=>{"use strict";s.d(a,{E:()=>i});var t=s(95155);s(12115);var r=s(31027),n=s(29602);let l=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:s}),a),...r})}},15785:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var t=s(95155),r=s(12115),n=s(46195),l=s(31027),i=s(29602);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.b,{ref:a,className:(0,i.cn)(d(),s),...r})});c.displayName=n.b.displayName},51124:(e,a,s)=>{"use strict";s.d(a,{AM:()=>i,Wv:()=>d,hl:()=>c});var t=s(95155),r=s(12115),n=s(80532),l=s(29602);let i=n.bL,d=n.l9;n.Mz;let c=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:i=4,...d}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsx)(n.UC,{ref:a,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})})});c.displayName=n.UC.displayName},10332:(e,a,s)=>{"use strict";s.d(a,{C:()=>c,z:()=>d});var t=s(95155),r=s(12115),n=s(852),l=s(33565),i=s(29602);let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.bL,{className:(0,i.cn)("grid gap-2",s),...r,ref:a})});d.displayName=n.bL.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.q7,{ref:a,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,t.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(l.A,{className:"h-3.5 w-3.5 fill-primary"})})})});c.displayName=n.q7.displayName},31641:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>c,av:()=>u,j7:()=>d,tU:()=>i});var t=s(95155),r=s(12115),n=s(58629),l=s(29602);let i=n.bL,d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.B8,{ref:a,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=n.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.l9,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...r})});c.displayName=n.l9.displayName;let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.UC,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});u.displayName=n.UC.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[2374,1078,508,9593,284,8441,1517,7358],()=>a(32058)),_N_E=e.O()}]);