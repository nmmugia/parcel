(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{20778:(e,t,a)=>{Promise.resolve().then(a.bind(a,27641)),Promise.resolve().then(a.bind(a,24146)),Promise.resolve().then(a.bind(a,20460))},20460:(e,t,a)=>{"use strict";a.d(t,{BonusSettingsForm:()=>y});var s=a(95155),r=a(12115),n=a(76046),i=a(69606),l=a(85060),o=a(43415),d=a(14085),c=a(34839),u=a(9955),m=a(89134),p=a(35007),x=a(84226),h=a(14505);let f=o.z.object({resellerBonusRate:o.z.coerce.number().min(0,"Persentase bonus tidak boleh negatif").max(100,"Persentase bonus tidak boleh lebih dari 100%"),adminBonusRate:o.z.coerce.number().min(0,"Persentase bonus tidak boleh negatif").max(100,"Persentase bonus tidak boleh lebih dari 100%")});function y(e){let{initialValues:t}=e,[a,o]=(0,r.useState)(!1),y=(0,n.useRouter)(),{toast:b}=(0,m.dj)(),j=(0,i.mN)({resolver:(0,l.u)(f),defaultValues:{resellerBonusRate:100*t.resellerBonusRate,adminBonusRate:100*t.adminBonusRate}}),v=async e=>{o(!0);try{let t={resellerBonusRate:e.resellerBonusRate/100,adminBonusRate:e.adminBonusRate/100},a=await fetch("/api/settings/bonus-rates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.json();throw Error(e.message||"Terjadi kesalahan saat menyimpan pengaturan")}b({title:"Berhasil",description:"Pengaturan bonus berhasil disimpan"}),y.refresh()}catch(e){b({variant:"destructive",title:"Gagal",description:e instanceof Error?e.message:"Terjadi kesalahan saat menyimpan pengaturan"})}finally{o(!1)}};return(0,s.jsxs)(p.Zp,{className:"max-w-md",children:[(0,s.jsxs)(p.aR,{children:[(0,s.jsx)(p.ZB,{children:"Pengaturan Bonus"}),(0,s.jsx)(p.BT,{children:"Atur persentase bonus untuk reseller dan admin"})]}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)(c.lV,{...j,children:(0,s.jsxs)("form",{onSubmit:j.handleSubmit(v),className:"space-y-6",children:[(0,s.jsx)(c.zB,{control:j.control,name:"resellerBonusRate",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Persentase Bonus Reseller (%)"}),(0,s.jsx)(c.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.p,{type:"number",step:"0.1",...t}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})})]})}),(0,s.jsx)(c.Rr,{children:"Persentase dari jumlah pembayaran yang akan diberikan sebagai bonus kepada reseller"}),(0,s.jsx)(c.C5,{})]})}}),(0,s.jsx)(c.zB,{control:j.control,name:"adminBonusRate",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Persentase Bonus Admin (%)"}),(0,s.jsx)(c.MJ,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.p,{type:"number",step:"0.1",...t}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})})]})}),(0,s.jsx)(c.Rr,{children:"Persentase dari jumlah pembayaran yang akan diberikan sebagai bonus kepada admin"}),(0,s.jsx)(c.C5,{})]})}})]})})}),(0,s.jsx)(p.wL,{children:(0,s.jsxs)(d.$,{onClick:j.handleSubmit(v),disabled:a,className:"w-full",children:[a&&(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Simpan Pengaturan"]})})]})}},34839:(e,t,a)=>{"use strict";a.d(t,{C5:()=>b,MJ:()=>f,Rr:()=>y,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>u});var s=a(95155),r=a(12115),n=a(12317),i=a(69606),l=a(29602),o=a(15785);let d=i.Op,c=r.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(i.xI,{...t})})},m=()=>{let e=r.useContext(c),t=r.useContext(p),{getFieldState:a,formState:s}=(0,i.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},p=r.createContext({}),x=r.forwardRef((e,t)=>{let{className:a,...n}=e,i=r.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",a),...n})})});x.displayName="FormItem";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:i}=m();return(0,s.jsx)(o.J,{ref:t,className:(0,l.cn)(n&&"text-destructive",a),htmlFor:i,...r})});h.displayName="FormLabel";let f=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:i,formDescriptionId:l,formMessageId:o}=m();return(0,s.jsx)(n.DX,{ref:t,id:i,"aria-describedby":r?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!r,...a})});f.displayName="FormControl";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",a),...r})});y.displayName="FormDescription";let b=r.forwardRef((e,t)=>{var a;let{className:r,children:n,...i}=e,{error:o,formMessageId:d}=m(),c=o?String(null!==(a=null==o?void 0:o.message)&&void 0!==a?a:""):n;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",r),...i,children:c}):null});b.displayName="FormMessage"},9955:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),r=a(12115),n=a(29602);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},15785:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var s=a(95155),r=a(12115),n=a(46195),i=a(31027),l=a(29602);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),a),...r})});d.displayName=n.b.displayName},89134:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_VALUE).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},26062:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(38595).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},14505:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(38595).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},84226:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(38595).A)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},68236:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(38595).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},92823:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(38595).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2374,1078,508,7518,5836,8441,1517,7358],()=>t(20778)),_N_E=e.O()}]);