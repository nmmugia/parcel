(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4426],{57050:(e,t,a)=>{Promise.resolve().then(a.bind(a,27641)),Promise.resolve().then(a.bind(a,24146)),Promise.resolve().then(a.bind(a,65903))},65903:(e,t,a)=>{"use strict";a.d(t,{AdminTransactionList:()=>g});var s=a(95155),n=a(12115),r=a(48173),i=a.n(r),l=a(14085),d=a(35007),o=a(31641),c=a(39286),u=a(9955),m=a(29602),f=a(98662),x=a(18474),h=a(20853),p=a(92598);function g(e){let{transactions:t}=e,[a,r]=(0,n.useState)("all"),[g,v]=(0,n.useState)(""),b=(0,n.useMemo)(()=>{let e=t;if("all"!==a&&(e=e.filter(e=>e.status===a)),g){let t=g.toLowerCase();e=e.filter(e=>e.customerName.toLowerCase().includes(t)||e.customerPhone.toLowerCase().includes(t)||e.package.name.toLowerCase().includes(t)||e.reseller.name.toLowerCase().includes(t))}return e},[t,a,g]),j=e=>{switch(e){case"ACTIVE":return(0,s.jsx)(c.E,{variant:"default",children:"Aktif"});case"COMPLETED":return(0,s.jsx)(c.E,{variant:"success",children:"Selesai"});case"CANCELLED":return(0,s.jsx)(c.E,{variant:"destructive",children:"Dibatalkan"});default:return(0,s.jsx)(c.E,{variant:"outline",children:e})}},N=e=>{let t=e.filter(e=>"PENDING"===e.status),a=e.filter(e=>"APPROVED"===e.status),s=e.filter(e=>"REJECTED"===e.status);return{pendingCount:t.length,approvedCount:a.length,rejectedCount:s.length,totalCount:e.length}};return 0===t.length?(0,s.jsx)(d.Zp,{children:(0,s.jsxs)(d.Wu,{className:"flex flex-col items-center justify-center p-6",children:[(0,s.jsx)(x.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-center",children:"Belum ada transaksi"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Transaksi akan muncul setelah reseller membuat transaksi"})]})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,s.jsx)(h.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(u.p,{type:"search",placeholder:"Cari transaksi...",className:"pl-8",value:g,onChange:e=>v(e.target.value)})]}),(0,s.jsx)(o.tU,{defaultValue:"all",value:a,onValueChange:r,className:"w-full md:w-auto",children:(0,s.jsxs)(o.j7,{className:"grid w-full grid-cols-3",children:[(0,s.jsx)(o.Xi,{value:"all",children:"Semua"}),(0,s.jsx)(o.Xi,{value:"ACTIVE",children:"Aktif"}),(0,s.jsx)(o.Xi,{value:"COMPLETED",children:"Selesai"})]})})]}),0===b.length?(0,s.jsx)(d.Zp,{children:(0,s.jsxs)(d.Wu,{className:"flex flex-col items-center justify-center p-6",children:[(0,s.jsx)(h.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-center",children:"Tidak ada transaksi"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center mt-1",children:"Tidak ada transaksi yang sesuai dengan filter"})]})}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:b.map(e=>{let t=N(e.payments);return(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.c,{icon:e.package.packageType.icon,className:"h-5 w-5"}),(0,s.jsx)(d.ZB,{className:"text-lg",children:e.package.name})]}),j(e.status)]}),(0,s.jsxs)(d.BT,{className:"mt-2",children:["Pelanggan: ",e.customerName]})]}),(0,s.jsx)(d.Wu,{className:"pb-3",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Reseller:"}),(0,s.jsx)("span",{className:"font-medium",children:e.reseller.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Tanggal Transaksi:"}),(0,s.jsx)("span",{className:"font-medium",children:(0,m.Yq)(e.createdAt)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,s.jsx)("span",{className:"font-medium",children:(0,m.vv)(e.totalAmount)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Tenor:"}),(0,s.jsxs)("span",{className:"font-medium",children:[e.tenorMonths," bulan"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Status Pembayaran:"}),(0,s.jsxs)("span",{className:"font-medium",children:[t.approvedCount,"/",t.totalCount," cicilan"]})]})]})}),(0,s.jsx)("div",{className:"px-6 pb-6",children:(0,s.jsx)(i(),{href:"/admin/transactions/".concat(e.id),children:(0,s.jsxs)(l.$,{variant:"outline",className:"w-full",children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]})})})]},e.id)})})]})}},98662:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});var s=a(95155),n=a(44200),r=a(60719),i=a(29602);function l(e){let{icon:t,className:a,...l}=e,d=n[t]||r.A;return(0,s.jsx)(d,{className:(0,i.cn)("h-4 w-4",a),...l})}},39286:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(95155);a(12115);var n=a(31027),r=a(29602);let i=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)(i({variant:a}),t),...n})}},9955:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),n=a(12115),r=a(29602);let i=n.forwardRef((e,t)=>{let{className:a,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},31641:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var s=a(95155),n=a(12115),r=a(58629),i=a(29602);let l=r.bL,d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.B8,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...n})});d.displayName=r.B8.displayName;let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...n})});o.displayName=r.l9.displayName;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});c.displayName=r.UC.displayName},58629:(e,t,a)=>{"use strict";a.d(t,{B8:()=>L,UC:()=>D,bL:()=>A,l9:()=>R});var s=a(12115),n=a(93610),r=a(18166),i=a(67357),l=a(17028),d=a(23360),o=a(4256),c=a(1488),u=a(67668),m=a(95155),f="Tabs",[x,h]=(0,r.A)(f,[i.RG]),p=(0,i.RG)(),[g,v]=x(f),b=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:r,orientation:i="horizontal",dir:l,activationMode:f="automatic",...x}=e,h=(0,o.jH)(l),[p,v]=(0,c.i)({prop:s,onChange:n,defaultProp:r});return(0,m.jsx)(g,{scope:a,baseId:(0,u.B)(),value:p,onValueChange:v,orientation:i,dir:h,activationMode:f,children:(0,m.jsx)(d.sG.div,{dir:h,"data-orientation":i,...x,ref:t})})});b.displayName=f;var j="TabsList",N=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,r=v(j,a),l=p(a);return(0,m.jsx)(i.bL,{asChild:!0,...l,orientation:r.orientation,dir:r.dir,loop:s,children:(0,m.jsx)(d.sG.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:t})})});N.displayName=j;var y="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:r=!1,...l}=e,o=v(y,a),c=p(a),u=E(o.baseId,s),f=T(o.baseId,s),x=s===o.value;return(0,m.jsx)(i.q7,{asChild:!0,...c,focusable:!r,active:x,children:(0,m.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":f,"data-state":x?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...l,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||r||!e||o.onValueChange(s)})})})});w.displayName=y;var C="TabsContent",k=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:r,children:i,...o}=e,c=v(C,a),u=E(c.baseId,n),f=T(c.baseId,n),x=n===c.value,h=s.useRef(x);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.C,{present:r||x,children:a=>{let{present:s}=a;return(0,m.jsx)(d.sG.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&i})}})});function E(e,t){return"".concat(e,"-trigger-").concat(t)}function T(e,t){return"".concat(e,"-content-").concat(t)}k.displayName=C;var A=b,L=N,R=w,D=k}},e=>{var t=t=>e(e.s=t);e.O(0,[8568,2374,1078,508,2367,5836,8441,1517,7358],()=>t(57050)),_N_E=e.O()}]);