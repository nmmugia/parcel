(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6642],{73290:(e,a,t)=>{Promise.resolve().then(t.bind(t,27641)),Promise.resolve().then(t.bind(t,24146)),Promise.resolve().then(t.bind(t,36825)),Promise.resolve().then(t.t.bind(t,48173,23))},36825:(e,a,t)=>{"use strict";t.d(a,{PackageList:()=>y});var s=t(95155),r=t(12115),i=t(48173),n=t.n(i),l=t(76046),d=t(5565),c=t(14085),o=t(35007),m=t(39286),u=t(25858),f=t(89134),p=t(60719),h=t(26764),x=t(14621),j=t(37438),g=t(45686),v=t(29602),N=t(98662);function y(e){let{packages:a}=e,[t,i]=(0,r.useState)(null),[y,k]=(0,r.useState)(null),b=(0,l.useRouter)(),{toast:w}=(0,f.dj)(),A=async e=>{i(e);try{let a=await fetch("/api/packages/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.message||"Terjadi kesalahan saat menghapus paket")}w({title:"Berhasil",description:"Paket berhasil dihapus"}),b.refresh()}catch(e){w({variant:"destructive",title:"Gagal",description:e instanceof Error?e.message:"Terjadi kesalahan saat menghapus paket"})}finally{i(null)}},T=async(e,a)=>{k(e);try{let t=await fetch("/api/packages/".concat(e,"/toggle-active"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!a})});if(!t.ok){let e=await t.json();throw Error(e.message||"Terjadi kesalahan saat mengubah status paket")}w({title:"Berhasil",description:"Paket berhasil ".concat(a?"dinonaktifkan":"diaktifkan")}),b.refresh()}catch(e){w({variant:"destructive",title:"Gagal",description:e instanceof Error?e.message:"Terjadi kesalahan saat mengubah status paket"})}finally{k(null)}};return 0===a.length?(0,s.jsx)(o.Zp,{children:(0,s.jsxs)(o.Wu,{className:"flex flex-col items-center justify-center p-6",children:[(0,s.jsx)(p.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-center",children:"Belum ada paket"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center mt-1 mb-4",children:"Tambahkan paket untuk mulai menawarkan kepada reseller"}),(0,s.jsx)(n(),{href:"/admin/packages/create",children:(0,s.jsx)(c.$,{children:"Tambah Paket"})})]})}):(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(e=>(0,s.jsxs)(o.Zp,{className:e.isActive?"":"opacity-70",children:[(0,s.jsxs)(o.aR,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.c,{icon:e.packageType.icon,className:"h-5 w-5"}),(0,s.jsx)(o.ZB,{className:"text-lg",children:e.name})]}),(0,s.jsx)(m.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Aktif":"Nonaktif"})]}),e.description&&(0,s.jsx)(o.BT,{className:"mt-2",children:e.description})]}),(0,s.jsxs)(o.Wu,{className:"pb-3",children:[(0,s.jsx)("div",{className:"aspect-video relative rounded-md overflow-hidden mb-4",children:e.imageUrl?(0,s.jsx)(d.default,{src:e.imageUrl||"/placeholder.svg",alt:e.name,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:(0,s.jsx)(p.A,{className:"h-12 w-12 text-muted-foreground"})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Harga Total:"}),(0,s.jsx)("span",{className:"font-medium",children:(0,v.vv)(e.price)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Tenor:"}),(0,s.jsxs)("span",{className:"font-medium",children:[e.tenorMonths," bulan"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Cicilan per Bulan:"}),(0,s.jsx)("span",{className:"font-medium",children:(0,v.vv)(e.monthlyAmount)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Jenis Paket:"}),(0,s.jsx)("span",{className:"font-medium",children:e.packageType.name})]})]})]}),(0,s.jsxs)(o.wL,{className:"flex justify-between pt-3",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n(),{href:"/admin/packages/".concat(e.id,"/edit"),children:(0,s.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Edit"]})}),(0,s.jsx)(c.$,{variant:e.isActive?"secondary":"default",size:"sm",onClick:()=>T(e.id,e.isActive),disabled:y===e.id,children:y===e.id?"Memproses...":(0,s.jsxs)(s.Fragment,{children:[e.isActive?(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(j.A,{className:"h-4 w-4 mr-2"}),e.isActive?"Nonaktifkan":"Aktifkan"]})})]}),(0,s.jsxs)(u.Lt,{children:[(0,s.jsx)(u.tv,{asChild:!0,children:(0,s.jsxs)(c.$,{variant:"destructive",size:"sm",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Hapus"]})}),(0,s.jsxs)(u.EO,{children:[(0,s.jsxs)(u.wd,{children:[(0,s.jsx)(u.r7,{children:"Hapus Paket"}),(0,s.jsx)(u.$v,{children:"Apakah Anda yakin ingin menghapus paket ini? Tindakan ini tidak dapat dibatalkan."})]}),(0,s.jsxs)(u.ck,{children:[(0,s.jsx)(u.Zr,{children:"Batal"}),(0,s.jsx)(u.Rx,{onClick:()=>A(e.id),disabled:t===e.id,children:t===e.id?"Menghapus...":"Hapus"})]})]})]})]})]},e.id))})}},98662:(e,a,t)=>{"use strict";t.d(a,{c:()=>l});var s=t(95155),r=t(44200),i=t(60719),n=t(29602);function l(e){let{icon:a,className:t,...l}=e,d=r[a]||i.A;return(0,s.jsx)(d,{className:(0,n.cn)("h-4 w-4",t),...l})}},25858:(e,a,t)=>{"use strict";t.d(a,{$v:()=>x,EO:()=>u,Lt:()=>d,Rx:()=>j,Zr:()=>g,ck:()=>p,r7:()=>h,tv:()=>c,wd:()=>f});var s=t(95155),r=t(12115),i=t(83572),n=t(29602),l=t(14085);let d=i.bL,c=i.l9,o=i.ZL,m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});m.displayName=i.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(i.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});u.displayName=i.UC.displayName;let f=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};f.displayName="AlertDialogHeader";let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};p.displayName="AlertDialogFooter";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",t),...r})});h.displayName=i.hE.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});x.displayName=i.VY.displayName;let j=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.rc,{ref:a,className:(0,n.cn)((0,l.r)(),t),...r})});j.displayName=i.rc.displayName;let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i.ZD,{ref:a,className:(0,n.cn)((0,l.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});g.displayName=i.ZD.displayName},39286:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(95155);t(12115);var r=t(31027),i=t(29602);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:t}),a),...r})}},89134:(e,a,t)=>{"use strict";t.d(a,{dj:()=>u});var s=t(12115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],c={toasts:[]};function o(e){c=l(c,e),d.forEach(e=>{e(c)})}function m(e){let{...a}=e,t=(r=(r+1)%Number.MAX_VALUE).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=s.useState(c);return s.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[8568,2374,1078,508,2367,5565,3572,5836,8441,1517,7358],()=>a(73290)),_N_E=e.O()}]);