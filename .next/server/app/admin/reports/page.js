(()=>{var e={};e.id=7618,e.ids=[7618],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},9593:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c});var a=t(70260),r=t(28203),n=t(25155),i=t.n(n),l=t(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["admin",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7488)),"/home/beane/projects/my-app/my-app/app/admin/reports/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"/home/beane/projects/my-app/my-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/beane/projects/my-app/my-app/app/admin/reports/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/reports/page",pathname:"/admin/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93463:(e,s,t)=>{Promise.resolve().then(t.bind(t,22323)),Promise.resolve().then(t.bind(t,5986)),Promise.resolve().then(t.bind(t,73493))},21487:(e,s,t)=>{Promise.resolve().then(t.bind(t,72119)),Promise.resolve().then(t.bind(t,73654)),Promise.resolve().then(t.bind(t,88473))},88473:(e,s,t)=>{"use strict";t.d(s,{ReportsOverview:()=>p});var a=t(45512),r=t(97643),n=t(29637),i=t(59462),l=t(91124),d=t(46583),c=t(64977),o=t(96795),u=t(97832),m=t(31393),x=t(23956);function p({totalTransactions:e,activeTransactions:s,completedTransactions:t,totalPayments:p,approvedPayments:h,rejectedPayments:f,totalRevenue:j,totalResellerBonus:v,totalAdminBonus:y,transactionsPerReseller:b}){return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(n.tU,{defaultValue:"transactions",className:"w-full",children:[(0,a.jsxs)(n.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(n.Xi,{value:"transactions",children:"Transaksi"}),(0,a.jsx)(n.Xi,{value:"payments",children:"Pembayaran"}),(0,a.jsx)(n.Xi,{value:"revenue",children:"Pendapatan"})]}),(0,a.jsxs)(n.av,{value:"transactions",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Transaksi"}),(0,a.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah transaksi yang dibuat"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Transaksi Aktif"}),(0,a.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah transaksi yang sedang berjalan"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Transaksi Selesai"}),(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah transaksi yang telah selesai"})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Transaksi per Reseller"}),(0,a.jsx)(r.BT,{children:"Jumlah transaksi yang dibuat oleh setiap reseller"})]}),(0,a.jsx)(r.Wu,{children:b.length>0?(0,a.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.resellerName})]}),(0,a.jsxs)("span",{className:"font-medium",children:[e.count," transaksi"]})]},e.resellerId))}):(0,a.jsx)("p",{className:"text-center text-muted-foreground",children:"Belum ada data transaksi"})})]})]}),(0,a.jsxs)(n.av,{value:"payments",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Pembayaran"}),(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:p}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah pembayaran yang dibuat"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Pembayaran Disetujui"}),(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah pembayaran yang disetujui"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Pembayaran Ditolak"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:f}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jumlah pembayaran yang ditolak"})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Statistik Pembayaran"}),(0,a.jsx)(r.BT,{children:"Persentase pembayaran berdasarkan status"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Disetujui"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:p>0?`${(h/p*100).toFixed(1)}%`:"0%"})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-green-500",style:{width:p>0?`${h/p*100}%`:"0%"}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Ditolak"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:p>0?`${(f/p*100).toFixed(1)}%`:"0%"})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-red-500",style:{width:p>0?`${f/p*100}%`:"0%"}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Menunggu"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:p>0?`${((p-h-f)/p*100).toFixed(1)}%`:"0%"})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-yellow-500",style:{width:p>0?`${(p-h-f)/p*100}%`:"0%"}})})]})]})})]})]}),(0,a.jsxs)(n.av,{value:"revenue",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Pendapatan"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,i.vv)(j)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pendapatan dari pembayaran yang disetujui"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Bonus Reseller"}),(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,i.vv)(v)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bonus yang diberikan kepada reseller"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Bonus Admin"}),(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,i.vv)(y)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bonus yang diberikan kepada admin"})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Distribusi Pendapatan"}),(0,a.jsx)(r.BT,{children:"Distribusi pendapatan antara pendapatan bersih, bonus reseller, dan bonus admin"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Pendapatan Bersih"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,i.vv)(j-v-y)})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-blue-500",style:{width:j>0?`${(j-v-y)/j*100}%`:"0%"}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Bonus Reseller"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,i.vv)(v)})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-green-500",style:{width:j>0?`${v/j*100}%`:"0%"}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm",children:"Bonus Admin"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,i.vv)(y)})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-yellow-500",style:{width:j>0?`${y/j*100}%`:"0%"}})})]})]})})]})]})]})})}},29637:(e,s,t)=>{"use strict";t.d(s,{tU:()=>q,av:()=>_,j7:()=>T,Xi:()=>Z});var a=t(45512),r=t(58009),n=t(31412),i=t(6004),l=t(48305),d=t(98060),c=t(30830),o=t(59018),u=t(13024),m=t(30096),x="Tabs",[p,h]=(0,i.A)(x,[l.RG]),f=(0,l.RG)(),[j,v]=p(x),y=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:d,activationMode:x="automatic",...p}=e,h=(0,o.jH)(d),[f,v]=(0,u.i)({prop:r,onChange:n,defaultProp:i});return(0,a.jsx)(j,{scope:t,baseId:(0,m.B)(),value:f,onValueChange:v,orientation:l,dir:h,activationMode:x,children:(0,a.jsx)(c.sG.div,{dir:h,"data-orientation":l,...p,ref:s})})});y.displayName=x;var b="TabsList",g=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...n}=e,i=v(b,t),d=f(t);return(0,a.jsx)(l.bL,{asChild:!0,...d,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(c.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:s})})});g.displayName=b;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:i=!1,...d}=e,o=v(N,t),u=f(t),m=A(o.baseId,r),x=R(o.baseId,r),p=r===o.value;return(0,a.jsx)(l.q7,{asChild:!0,...u,focusable:!i,active:p,children:(0,a.jsx)(c.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...d,ref:s,onMouseDown:(0,n.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;p||i||!e||o.onValueChange(r)})})})});w.displayName=N;var k="TabsContent",P=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:n,forceMount:i,children:l,...o}=e,u=v(k,t),m=A(u.baseId,n),x=R(u.baseId,n),p=n===u.value,h=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(d.C,{present:i||p,children:({present:t})=>(0,a.jsx)(c.sG.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:x,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&l})})});function A(e,s){return`${e}-trigger-${s}`}function R(e,s){return`${e}-content-${s}`}P.displayName=k;var B=t(59462);let q=y,T=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(g,{ref:t,className:(0,B.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));T.displayName=g.displayName;let Z=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(w,{ref:t,className:(0,B.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...s}));Z.displayName=w.displayName;let _=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(P,{ref:t,className:(0,B.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));_.displayName=P.displayName},10016:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},46583:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},97832:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},31393:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},23956:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},94520:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},64977:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(5187).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(62740),r=t(51825),n=t(31831),i=t(45369),l=t(62545),d=t(9742),c=t(73493);async function o(){let e=await (0,r.getServerSession)(i.N);e&&"ADMIN"===e.user.role||(0,n.redirect)("/");let s=await l.db.transaction.count(),t=await l.db.transaction.count({where:{status:"ACTIVE"}}),o=await l.db.transaction.count({where:{status:"COMPLETED"}}),u=await l.db.payment.count(),m=await l.db.payment.count({where:{status:"APPROVED"}}),x=await l.db.payment.count({where:{status:"REJECTED"}}),p=await l.db.payment.aggregate({where:{status:"APPROVED"},_sum:{amount:!0}}),h=await l.db.payment.aggregate({where:{status:"APPROVED",resellerBonus:{not:null}},_sum:{resellerBonus:!0}}),f=await l.db.payment.aggregate({where:{status:"APPROVED",adminBonus:{not:null}},_sum:{adminBonus:!0}}),j=await l.db.transaction.groupBy({by:["resellerId"],_count:{id:!0},orderBy:{_count:{id:"desc"}}}),v=j.map(e=>e.resellerId),y=await l.db.user.findMany({where:{id:{in:v}},select:{id:!0,name:!0}}),b=j.map(e=>{let s=y.find(s=>s.id===e.resellerId);return{resellerId:e.resellerId,resellerName:s?.name||"Unknown",count:e._count.id}});return(0,a.jsx)(d.U,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Laporan"}),(0,a.jsx)(c.ReportsOverview,{totalTransactions:s,activeTransactions:t,completedTransactions:o,totalPayments:u,approvedPayments:m,rejectedPayments:x,totalRevenue:p._sum.amount||0,totalResellerBonus:h._sum.resellerBonus||0,totalAdminBonus:f._sum.adminBonus||0,transactionsPerReseller:b})]})})}},73493:(e,s,t)=>{"use strict";t.d(s,{ReportsOverview:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call ReportsOverview() from the server but ReportsOverview is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/beane/projects/my-app/my-app/components/admin/reports-overview.tsx","ReportsOverview")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,8728,3618,7928,159,4999,4563],()=>t(9593));module.exports=a})();